<!DOCTYPE HTML>
<html lang="zh-cn">
<head>
	<meta charset="UTF-8">
	<title>淡入淡出的图片</title>
	<style type="text/css">
		div{
			width:300px;
			height:200px;
			background: red;
			filter:alpha(opacity:30);
			opacity:0.3;
			margin:10px ;
			margin-top:55px;
		}
		div img{
			
			width: 300px;
			height: 200px;
		}
	</style>
	
</head>
<body>
	<div><img src="img/1.jpg"></div>
	<div><img src="img/1.jpg"></div>
</body>
	<script>	
	var alpha=30;
	var timer=null;
	var oDemo=document.getElementsByTagName('div');//作用域问题
	console.log(oDemo[0]);
	
	window.onload=function  () {
		for(var i=0 ; i<2 ;i++){
		oDemo[i].onmouseover=function  () {
			startMove(100,this);
		}
		oDemo[i].onmouseout=function  () {
			startMove(30,this);
			};
		};
	};
		function startMove(iTarget,a){
			clearInterval(timer);
			timer=setInterval(function(){
				var speed=0;
				if(alpha<iTarget){
					speed=20;
				}else{
					speed=-20;
				}

				if(alpha==iTarget){
					clearInterval(timer);
				}else{
					alpha+=speed;
					a.style.filter="alpha(opacity:"+alpha+")";
					a.style.opacity=alpha/100;
				};
				//判断物体透明度，做出运动选择；
			},30);
		};
	
	
	</script>
</html>